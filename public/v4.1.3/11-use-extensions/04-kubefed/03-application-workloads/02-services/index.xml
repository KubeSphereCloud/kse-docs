<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>服务 on KubeSphere 企业版</title>
    <link>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/</link>
    <description>Recent content in 服务 on KubeSphere 企业版</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <copyright>©2022 QingCloud, Inc. All rights reserved</copyright><atom:link href="/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>创建有状态或无状态服务</title>
      <link>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/01-create-a-stateful-or-stateless-service/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/01-create-a-stateful-or-stateless-service/</guid>
      <description>本节介绍如何在联邦项目中创建有状态或无状态服务。
前提条件 KubeSphere 企业版平台需要安装并启用联邦集群应用管理扩展组件。
您需要加入一个联邦项目并在对应企业空间中具有联邦项目管理权限。
操作步骤 请参阅参数描述设置服务的参数。
以具有联邦项目管理权限的用户登录 KubeSphere 企业版 Web 控制台并进入您的联邦项目。
在左侧导航栏选择应用负载 &amp;gt; 服务。
在页面点击创建。
在创建服务对话框，根据需要选择有状态服务或无状态服务。
说明 有状态服务：服务的内部访问模式为 Headless，后端工作负载为有状态副本集。
无状态服务：服务的内部访问模式为 VirtualIP，后端工作负载为部署。
在基本信息页签，设置服务的基本信息，然后点击下一步。
在容器组设置页签，为服务后端工作负载管理的容器组设置集群中的副本数量、容器、更新策略、安全上下文、调度规则和元数据，然后点击下一步。
在存储设置页签，为服务后端工作负载管理的容器挂载卷，然后点击下一步。
在高级设置页签，为服务后端工作负载管理的容器组指定 IP 池和节点，设置服务的外部访问模式、会话保持设置和元数据，然后点击下一步。
在集群差异设置页签，为不同集群中的服务基于容器、端口和环境变量进行差异化设置，然后点击创建。服务创建完成后将显示在服务列表中。
参数描述 以下介绍如何设置有状态服务和无状态服务的参数。
基本信息
设置服务的基本信息。
参数 描述 名称
服务的名称。同一项目中的服务名称不能重复。名称只能包含小写字母、数字和连字符（-），必须以小写字母开头并以小写字母或数字结尾，最长 63 个字符。
别名
服务的别名。不同服务的别名可以相同。
版本
服务的版本号。版本只能包含小写字母和数字，最长 16 个字符。
描述
服务的描述信息。描述可包含任意字符，最长 256 个字符。
容器组设置 &amp;gt; 容器组副本数量
点击/增加/减少容器组副本的数量，最小值为 1。
容器组设置 &amp;gt; 添加容器
创建容器组中运行的容器。您可以在容器组中创建多个容器。
点击添加容器可创建容器。
将光标悬停在已创建的容器上，然后在右侧点击可编辑容器的设置。
将光标悬停在已创建的容器上，然后在右侧点击可删除容器。
容器组设置 &amp;gt; 添加容器 &amp;gt; 容器设置
设置容器的镜像、名称、类型和资源。
参数 描述 镜像</description>
    </item>
    
    <item>
      <title>查看服务列表</title>
      <link>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/02-view-a-service-list/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/02-view-a-service-list/</guid>
      <description>本节介绍如何查看服务列表。
前提条件 KubeSphere 企业版平台需要安装并启用联邦集群应用管理扩展组件。
您需要加入一个联邦项目并在对应企业空间中具有联邦项目查看权限。
操作步骤 以具有联邦项目查看权限的用户登录 KubeSphere 企业版 Web 控制台并进入您的联邦项目。
在左侧导航栏选择应用负载 &amp;gt; 服务。
服务列表提供以下信息：
参数 描述 名称
服务的名称和描述信息。
状态
服务的状态，运行中或删除中。
服务类型
服务的类型。取决于服务的创建方式，KubeSphere 企业版将服务划分为以下类型：
有状态服务：服务的内部访问模式为 Headless，后端工作负载为有状态副本集。
无状态服务：服务的内部访问模式为 VirtualIP，后端工作负载为部署。
应用
服务所属的应用。
创建时间
服务的创建时间。
在列表上方点击搜索框并输入关键字，可按名称搜索服务。
在列表右上角点击可刷新列表信息。
在列表右上角点击可定制列表中显示的信息。</description>
    </item>
    
    <item>
      <title>查看服务详情</title>
      <link>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/03-view-service-details/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/03-view-service-details/</guid>
      <description>本节介绍如何查看服务详情。
前提条件 KubeSphere 企业版平台需要安装并启用联邦集群应用管理扩展组件。
您需要加入一个联邦项目并在对应企业空间中具有联邦项目查看权限。
操作步骤 以具有联邦项目查看权限的用户登录 KubeSphere 企业版 Web 控制台并进入您的联邦项目。
在左侧导航栏选择应用负载 &amp;gt; 服务。
在服务列表中点击一个服务的名称打开其详情页面。
在服务详情页面左侧的属性区域查看服务的资源属性。
参数 描述 项目
服务所属的项目。
类型
服务的内部访问模式。
Headless：系统不为服务分配虚拟 IP 地址，可通过 &amp;lt;service name&amp;gt;.&amp;lt;project name&amp;gt;.svc.cluster.local 或 &amp;lt;service name&amp;gt;.&amp;lt;project name&amp;gt; 格式的域名从集群内部访问。
VirtualIP：系统为服务分配一个虚拟 IP 地址供集群内部访问，同时也支持通过 &amp;lt;service name&amp;gt;.&amp;lt;project name&amp;gt;.svc.cluster.local 或 &amp;lt;service name&amp;gt;.&amp;lt;project name&amp;gt; 格式的域名从集群内部访问。
ExternalName：服务将业务流量转发给集群外部的其他服务。系统不为服务分配虚拟 IP 地址，可通过 &amp;lt;service name&amp;gt;.&amp;lt;project name&amp;gt;.svc.cluster.local 格式的域名从集群内部访问。
应用
服务所属的应用名称。您可以创建一个包含多个服务的应用，每个服务都对应一个工作负载。
创建时间
服务的创建时间。
更新时间
服务的最后更新时间。
创建者
创建服务的用户。
在服务详情页面右侧的资源状态页签查看服务的容器组副本数量和容器组。
参数 描述 容器组副本数量
设置每个集群的容器组副本数。
容器组
服务中运行的所有容器组。展开下拉框可以选择查看特定集群中的容器组信息。
点击可查看容器组中运行的容器的信息。
点击容器组的名称可查看容器组详情。
在容器组列表上方的搜索框中输入关键字，可按名称搜索容器组。</description>
    </item>
    
    <item>
      <title>编辑服务信息</title>
      <link>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/04-edit-service-information/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/04-edit-service-information/</guid>
      <description>本节介绍如何编辑任务信息。
您可以编辑任务的别名和描述。KubeSphere 企业版不支持编辑已创建任务的名称。
前提条件 KubeSphere 企业版平台需要安装并启用联邦集群应用管理扩展组件。
您需要加入一个联邦项目并在对应企业空间中具有联邦项目管理权限。
操作步骤 以具有联邦项目管理权限的用户登录 KubeSphere 企业版 Web 控制台并进入您的联邦项目。
在左侧导航栏选择应用负载 &amp;gt; 服务。
在需要操作的服务右侧点击，然后在下拉列表中选择编辑信息。
在编辑信息对话框，设置服务的别名和描述，然后点击确定。
参数 描述 别名
服务的别名。不同服务的别名可以相同。
描述
服务的描述信息。描述可包含任意字符，最多包含 256 个字符。</description>
    </item>
    
    <item>
      <title>编辑服务设置</title>
      <link>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/05-edit-service-settings/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/05-edit-service-settings/</guid>
      <description>本节介绍如何编辑任务设置。
前提条件 KubeSphere 企业版平台需要安装并启用联邦集群应用管理扩展组件。
您需要加入一个联邦项目并在对应企业空间中具有联邦项目管理权限。
操作步骤 以具有联邦项目管理权限的用户登录 KubeSphere 企业版 Web 控制台并进入您的联邦项目。
在左侧导航栏选择应用负载 &amp;gt; 服务。
在需要操作的服务右侧点击，然后在下拉列表中选择编辑设置。
在编辑设置对话框的服务设置页签，修改服务的设置。
对于内部访问模式为 ExternalName 的服务，您可以修改外部服务的地址。
对于其他服务，您可以修改服务的内部访问模式、工作负载选择器和端口。
参数 描述 内部访问模式
从集群内部访问服务的方式。
内部域名：系统不为服务分配虚拟 IP 地址，可通过 &amp;lt;service name&amp;gt;.&amp;lt;namespace&amp;gt;.svc.cluster.local 或 &amp;lt;service name&amp;gt;.&amp;lt;namespace&amp;gt; 格式的域名从集群内部访问。
虚拟 IP 地址：系统为服务分配一个虚拟 IP 地址供集群内部访问，同时也支持通过 &amp;lt;service name&amp;gt;.&amp;lt;namespace&amp;gt;.svc.cluster.local 或 &amp;lt;service name&amp;gt;.&amp;lt;namespace&amp;gt; 格式的域名从集群内部访问。
工作负载选择器
指定服务将业务流量转发给具有特定标签的工作负载管理的容器组。
输入标签的键和值可手动设置选择器。点击添加可设置多个标签。
点击指定工作负载可手动选择工作负载。
在已创建的标签右侧点击可删除标签。
端口
服务端口及其与目标容器端口的映射关系。
协议：目标容器中的应用程序实际监听的协议。如需使用 KubeSphere 企业版提供的应用治理功能，请确保此处选择的协议与目标容器中的应用程序实际监听的协议保持一致。
名称：服务端口的名称。KubeSphere 企业版的应用治理功能要求服务端口名称以协议名称小写为前缀。如需使用 KubeSphere 企业版提供的应用治理功能，请使用协议名称小写作为端口名称的前缀（例如 http-）。
容器端口：目标容器中的应用程序实际监听的端口号。
服务端口：服务的端口号。
点击添加可设置多个服务端口。在已创建的服务端口右侧点击可删除服务端口。
在编辑设置对话框的集群差异设置页签，为不同集群中的服务基于端口进行差异化设置，然后点击确定。</description>
    </item>
    
    <item>
      <title>编辑服务外部访问设置</title>
      <link>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/06-edit-service-external-access-settings/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/06-edit-service-external-access-settings/</guid>
      <description>本节介绍如何编辑服务外部访问设置。
说明 此操作仅支持内部访问模式为 VirtualIP 的服务，不支持内部访问模式为 Headless 或 ExternalName 的服务。
前提条件 KubeSphere 企业版平台需要安装并启用联邦集群应用管理扩展组件。
您需要加入一个联邦项目并在对应企业空间中具有联邦项目管理权限。
操作步骤 以具有联邦项目管理权限的用户登录 KubeSphere 企业版 Web 控制台并进入您的联邦项目。
在左侧导航栏选择应用负载 &amp;gt; 服务。
在服务列表中点击一个服务的名称打开其详情页面。
在服务详情页面右侧点击访问信息页签查看服务的访问信息。
点击页面右侧的，然后从下拉列表中选择编辑外部访问。
在需要操作的服务右侧点击，然后在下拉列表中选择编辑外部访问。
在编辑外部访问对话框，设置服务的外部访问模式，然后点击确定。
服务的外部访问模式包括以下类型：
参数 描述 无
无法从集群外部访问服务。
NodePort
系统将节点的端口映射到服务端口，可通过节点的 IP 地址和节点端口访问服务。
LoadBalancer
系统在 NodePort 服务的基础上为服务分配一个外部 IP 地址，并将外部 IP 地址与一个外部负载均衡器绑定。外部负载均衡器监听服务对应的节点端口，从而可以通过外部 IP 地址访问服务。为实现上述功能，LoadBalancer 类型的服务需要负载均衡器插件和基础设施环境提供支持，并且需要设置相关注解。有关更多信息，请联系您的基础设施环境提供商。</description>
    </item>
    
    <item>
      <title>删除服务</title>
      <link>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/07-delete-services/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/11-use-extensions/04-kubefed/03-application-workloads/02-services/07-delete-services/</guid>
      <description>本节介绍如何删除服务。
警告 删除服务后将无法通过服务访问其后端的容器组，请谨慎执行此操作。
前提条件 KubeSphere 企业版平台需要安装并启用联邦集群应用管理扩展组件。
您需要加入一个联邦项目并在对应企业空间中具有联邦项目管理权限。
删除单个服务 以具有联邦项目管理权限的用户登录 KubeSphere 企业版 Web 控制台并进入您的联邦项目。
在左侧导航栏选择应用负载 &amp;gt; 服务。
在需要删除的服务右侧点击，然后在下拉列表中选择删除。
在删除服务对话框，选择需要同时删除的工作负载，然后点击确定。
批量删除服务 以具有联邦项目管理权限的用户登录 KubeSphere 企业版 Web 控制台并进入您的联邦项目。
在左侧导航栏选择应用负载 &amp;gt; 服务。
选择需要删除的服务左侧的复选框，然后在服务列表上方点击删除。
在批量删除服务对话框，确认并选择要删除的相关资源，然后点击确定。
说明 请使用半角逗号（,）和空格分隔多个名称。</description>
    </item>
    
  </channel>
</rss>
