<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>多集群管理 on KubeSphere</title>
    <link>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/</link>
    <description>Recent content in 多集群管理 on KubeSphere</description>
    <generator>Hugo -- gohugo.io</generator>
    <copyright>©2022 QingCloud, Inc. All rights reserved</copyright><atom:link href="/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>查看集群列表</title>
      <link>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/02-view-a-cluster-list/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/02-view-a-cluster-list/</guid>
      <description>本节介绍如何查看集群列表。
 前提条件 您需要在 KubeSphere 企业版平台具有集群查看权限。
   操作步骤  以具有集群查看权限的用户登录 KubeSphere Web 控制台。
  点击集群管理。
     集群列表提供以下信息：
    参数 描述     名称、标识和描述
 集群的名称、标识和描述信息。
   节点数量
 集群中服务器节点的数量。
   Kubernetes 版本
 集群中运行的 Kubernetes 版本。
   提供商
 集群环境的提供商。
   标签
 集群的标签，用于对集群进行分类管理。
   创建时间
 集群加入 KubeSphere 企业版 Web 控制台的时间。</description>
    </item>
    
    <item>
      <title>编辑集群信息</title>
      <link>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/03-edit-cluster-information/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/03-edit-cluster-information/</guid>
      <description> 本节介绍编辑集群信息。
 您可以编辑集群的标识、提供商和描述。KubeSphere 企业版不支持编辑已添加集群的名称。
 前提条件 您需要在 KubeSphere 企业版平台具有集群管理权限。
   操作步骤  以具有集群管理权限的用户登录 KubeSphere Web 控制台。
  点击集群管理。
  在需要操作的集群右侧点击，然后在下拉列表中选择编辑信息。
  在编辑信息对话框，设置集群的标识、提供商和描述，然后点击确定。
    参数 描述     标识
 集群的用途标识。
   提供商
 集群的提供商。在下拉列表中选择提供商。
   描述
 集群的描述信息。描述可包含任意字符，最长 256 个字符。
           </description>
    </item>
    
    <item>
      <title>添加集群标签</title>
      <link>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/04-add-cluster-tags/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/04-add-cluster-tags/</guid>
      <description> 本节介绍如何添加集群标签。
 您可以使用标签对集群进行分类管理。
 前提条件   您需要在 KubeSphere 企业版平台具有集群管理权限。
  您需要提前创建集群标签。有关更多信息，请参阅创建集群标签。
     对单个集群添加标签  以具有集群管理权限的用户登录 KubeSphere Web 控制台。
  点击集群管理。
  在需要操作的集群右侧点击，然后在下拉列表中选择添加标签。
  在添加标签对话框，选择标签的键和值，点击添加，然后点击确定。
如果没有标签满足要求，请先创建标签。标签添加后，您可以集群列表上方点击搜索框按标签搜索集群。
        对多个集群添加标签  以具有集群管理权限的用户登录 KubeSphere Web 控制台。
  点击集群管理。
  在集群列表右上角点击批量管理。
  选择需要添加标签的集群左侧的复选框，然后在列表上方点击添加标签。
  在添加标签对话框，选择标签的键和值，点击添加，然后点击确定。
标签添加后，您可以集群列表上方点击搜索框按标签搜索集群。
        </description>
    </item>
    
    <item>
      <title>编辑集群配置</title>
      <link>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/05-edit-cluster-configuration/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/05-edit-cluster-configuration/</guid>
      <description> 本节介绍如何编辑成员集群的集群配置，即调整 ks-agent 配置参数。
 除了在添加成员集群时进行集群配置外，成员集群被添加后，也可以编辑集群配置。
 前提条件 您需要在 KubeSphere 企业版平台具有集群管理权限。
   操作步骤  以具有集群管理权限的用户登录 KubeSphere Web 控制台。
  点击集群管理。
  在需要操作的集群右侧点击，然后在下拉列表中选择编辑配置。
  在编辑配置对话框输入 ks-agent 的信息，然后点击确定。
     </description>
    </item>
    
    <item>
      <title>更新 kubeconfig</title>
      <link>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/07-update-kubeconfig/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/07-update-kubeconfig/</guid>
      <description>本节介绍如何更新成员集群 kubeconfig 信息。
 在 KubeSphere 企业版平台添加成员集群后，如果成员集群的访问信息发生变化，您需要更新成员集群的 kubeconfig 信息。
     说明     KubeSphere 企业版仅支持编辑通过直接连接添加的集群的 kubeconfig 信息，不支持编辑通过代理连接添加的集群的 kubeconfig 信息。
    前提条件 您需要在 KubeSphere 企业版平台具有集群管理权限。
   操作步骤  以具有集群管理权限的用户登录 KubeSphere Web 控制台。
  点击集群管理。
  在需要操作的集群右侧点击，然后在下拉列表中选择更新 kubeconfig。
  在更新 kubeconfig 对话框输入 kubeconfig 信息，然后点击更新。
    提示     您可以点击从本地上传 kubeconfig 配置文件。
    主集群的 KubeSphere 企业版 Web 控制台将使用新的 kubeconfig 信息连接成员集群。</description>
    </item>
    
    <item>
      <title>移除成员集群</title>
      <link>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/09-remove-a-member-cluster/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/09-remove-a-member-cluster/</guid>
      <description>本节介绍如何移除成员集群。
     说明       主集群无法移除。
  成员集群移除后，KubeSphere 企业版将无法管理该集群。集群中原有的 Kubernetes 资源将不会被删除。
          警告     集群被移除后，集群中原有的多集群配置数据不会被自动清除，卸载 KubeSphere 企业版或删除关联资源时可能会导致用户数据丢失。请务必在被移除的集群上执行清理多集群配置数据步骤。
    前提条件 您需要在主集群和需要移除的成员集群都具有 platform-admin 角色。
   通过 Web 控制台移除集群  以具有 platform-admin 角色的用户登录主集群的 Web 控制台。
  点击集群管理。
  在需要操作的集群右侧点击，然后在下拉列表中选择移除集群。
  在移除集群对话框，确认需要移除的集群的信息，将滑块拖动到右侧，输入需要移除的集群的名称，然后点击移除。
     通过命令行移除集群 某些情况下可能无法从 Web 控制台移除成员集群。例如，成员集群的凭证存在错误。在此情况下，您可以执行以下步骤通过命令行移除不健康的成员集群：</description>
    </item>
    
    <item>
      <title>纳管成员集群到其他 host 集群</title>
      <link>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/11-add-a-removed-member-cluster/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/v4.1.3/07-cluster-management/10-multi-cluster-management/01-clusters/11-add-a-removed-member-cluster/</guid>
      <description> 本节介绍如何将被移除的成员集群重新纳管到其他 host 集群。
 集群正常状态解绑 若成员集群在正常状态下被移除，无需额外操作，成员集群可以直接被其它 host 集群纳管，详细步骤请参阅添加成员集群。
   集群异常状态解绑 若成员集群在异常状态下被移除，在成员集群上执行下面的命令来清除集群的纳管信息，之后集群可以正常被其它 host 集群纳管。
 kubectl patch ns kubesphere-system --type merge -p &amp;#39;{&amp;#34;metadata&amp;#34;:{&amp;#34;annotations&amp;#34;: null}}&amp;#39;     清理多集群配置数据 集群被解绑后，集群中原有的资源和多集群配置数据不会被自动清除。如果被解绑集群存在企业空间相关配置，执行以下命令手动清理被移除集群中的配置数据后再进行纳管。
 for ns in $(kubectl get ns --field-selector status.phase!=Terminating -o jsonpath=&amp;#39;{.items[*].metadata.name}&amp;#39;); do kubectl label ns $ns kubesphere.io/workspace- &amp;amp;&amp;amp; kubectl patch ns $ns --type merge -p &amp;#39;{&amp;#34;metadata&amp;#34;:{&amp;#34;ownerReferences&amp;#34;:[]}}&amp;#39;; done     </description>
    </item>
    
  </channel>
</rss>
