




<!DOCTYPE html>
<html lang="zh"><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">

<meta name="keywords" content="">



<meta name="description" content="介绍如何快速安装 KubeSphere Core。">

<link rel="icon" href="/images/favicon.ico" type="image/x-icon">

<title>安装 KubeSphere Core - KubeSphere 企业版</title>
<link href="/css/bulma.css" rel="stylesheet">
<link href="/css/bulma-tooltip.min.css" rel="stylesheet">
<link href="/css/atom-one-light.css" rel="stylesheet" />
<link href="/css/magnific-popup.css" rel="stylesheet" />


<link href="/scss/main.min.3f975d466d577a77f0f174d270294cab5515450a1619ced59c3e7370b108aeb6.css" rel="stylesheet" integrity="sha256-P5ddRm1Xenfw8XTScClMq1UVRQoWGc7VnD5zcLEIrrY=">

<script src="/js/jquery-2.2.4.js?v=1510299508"></script>
<body
        class="root   "
        style=""
        ><header>
  <nav class="navbar">
    
      <a href="/" class="navbar-logo-wrapper">
        <img class="navbar-logo" src="/images/qingcloud-logo.svg" />
        <div class="navbar-split navbar-left-split">|</div>
        <div class="navbar-logo-text">KubeSphere 企业版</div>
      </a>
    
    <div class="navbar-nav">
      <div
        class="navbar-nav-item navbar-nav-version dropdown"
        style="">
        
        <div class="dropdown-trigger">
          <span class="project-version">
            v4.0
          </span>
          
            <span class="icon icon-chevron_down_fill"></span>
          
        </div>
        
          <div class="dropdown-menu" id="dropdown-menu" role="menu">
            <div class="dropdown-content">
              
              <a
                class=""
                href="/v3.4/"
              >
                v3.4
              </a>
              
              <a
                class="active"
                href="/v4.0/"
              >
                v4.0
              </a>
              
            </div>
          </div>
        
      </div>
      
    </div>
    <div class="search navbar-search">
      <form action="/v4.0/search/" method="GET">
        <div class="control has-icons-left has-icons-right docs-search-input">
          <span class="icon is-left">
            <img src="/images/icons/magnifier_duotone.svg" />
          </span>
          <input
            class="input"
            name="q"
            type="input"
            placeholder="请输入关键字快速获取帮助"
            autocomplete="off"
          />
          <span class="icon is-right"> </span>
        </div>
        <img class="clear-search-input" src="/images/icons/close_duotone.svg" />
      </form>
      <div class="search-result navbar-search-result">
        <div class="search-result-loading"></div>
        <div class="search-result-content"></div>
        <div class="search-result-none">
          没有找到搜索结果， 请更换关键词重新搜索
        </div>
      </div>
    </div>
    
  </nav>
</header><script id="search-result-total-template" type="text/x-js-template">
  <div class="search-result-total">
    共为您找到 ${count} 个结果
  </div>
</script>

<script id="search-result-item-template" type="text/x-js-template">
  <div class="search-result-content-item">
    <div class="search-result-content-item-title">
      <a href="${href}">${title}</a>
    </div>
    <div class="search-result-content-item-content">
      ${content}
    </div>
    <div class="search-result-content-item-ref">
      <ul class="content-breadcrumb">
      </ul>
    </div>
  </div>
</div>
</script>

<script id="search-breadcrumb-template" type="text/x-js-template">
  <li class="icon-slash_fill">
    <a href="${href}">${title}</a>
  </li>
</script>

<script id="search-result-total-template" type="text/x-js-template">
  <div class="search-result-total">
    共为您找到 ${count} 个结果
  </div>
</script>
<script id="search-result-page-template" type="text/x-js-template">
  <nav class="search-result-pagination pagination is-centered">
    <a class="pagination-previous icon-chevron_left_fill"></a>
    <a class="pagination-next icon-chevron_right_fill"></a>
    <ul class="pagination-list">
    </ul>
  </nav>
</script>
<div class="container">

  


  
    
  


<aside class="sidebar-wrapper">
  <div class="sidebar-drag"></div>
  <div class="sidebar">
    
      <div class="sidebar-title" >
        <a href="/v4.0/">
          
            KubeSphere 企业版
        </a>
        
      </div>
      
    
    <nav class="sidebar-menu">
      
        
        <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item active current">
            <a href="/v4.0/02-quickstart/01-install-ks-core/">安装 KubeSphere Core</a>
          </li>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="">产品简介</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/01-intro/01-introduction/">KubeSphere LuBan</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/01-intro/02-architecture/">KubeSphere LuBan 架构</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/01-intro/03-scenarios/">应用场景</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/02-quickstart/02-install-a-demo-component/">安装示例组件</a>
          </li>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="">KubeSphere Core 用户指南</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/03-ks-core-user-guide/01-core-features/">KubeSphere Core 功能</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/03-ks-core-user-guide/02-manage-ks-core/">管理 KubeSphere Core</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/v4.0/05-platform-management/">平台管理指南</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/v4.0/05-platform-management/04-access-control/">访问控制</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/v4.0/05-platform-management/04-access-control/01-workspaces/">企业空间</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/01-workspaces/01-create-a-workspace/">创建企业空间</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/01-workspaces/02-view-a-workspace-list/">查看企业空间列表</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/01-workspaces/03-delete-workspaces/">删除企业空间</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/01-workspaces/04-edit-workspace-information/">编辑企业空间信息</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/v4.0/05-platform-management/04-access-control/02-users/">用户</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/02-users/01-create-a-user/">创建用户</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/02-users/02-view-a-user-list/">查看用户列表</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/02-users/03-view-user-details/">查看用户详情</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/02-users/04-edit-user-information/">编辑用户信息</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/02-users/05-enable-and-disable-users/">启用和禁用用户</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/02-users/06-change-the-password-of-a-user/">修改用户密码</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/02-users/07-delete-users/">删除用户</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/v4.0/05-platform-management/04-access-control/03-platform-roles/">平台角色</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/03-platform-roles/01-create-a-platform-role/">创建平台角色</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/03-platform-roles/02-view-a-platform-role-list/">查看平台角色列表</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/03-platform-roles/03-view-platoform-role-details/">查看平台角色详情</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/03-platform-roles/04-edit-platform-role-information/">编辑平台角色信息</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/03-platform-roles/05-edit-permissions-of-a-platform-role/">编辑平台角色权限</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/04-access-control/03-platform-roles/06-delete-platform-roles/">删除平台角色</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/v4.0/05-platform-management/06-platform-settings/">平台设置管理</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a >平台信息</a>
            
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/06-platform-settings/01-platform-information/01-view-and-customize-platform-information/">查看和定制平台信息</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/v4.0/05-platform-management/06-platform-settings/03-license/">许可证</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/06-platform-settings/03-license/01-view-license-information/">查看许可证信息</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/05-platform-management/06-platform-settings/03-license/02-update-the-license/">更新许可证</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
</ul>
        
      
    
  
</ul>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/v4.0/04-component-user-guide/">扩展组件使用指南</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/04-component-user-guide/01-introduce-components/">扩展组件简介</a>
          </li>
        
      
    
  
    
      
      
      
      
        
          <li
            class="sidebar-item collapsed ">
            <a href="/v4.0/04-component-user-guide/02-subscribe-and-install-components/">订阅与安装扩展组件</a>
            
            
              
                
                  
                
              
            
              
                
                  
                
              
            
            
              <span
                class="menu-switch-icon icon-caret_down_fill">
              </span>
            
          </li>
          
          <ul>
  
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/04-component-user-guide/02-subscribe-and-install-components/01-subscribe-a-component/">订阅扩展组件</a>
          </li>
        
      
    
  
    
      
      
      
      
          
          <li class="sidebar-item  ">
            <a href="/v4.0/04-component-user-guide/02-subscribe-and-install-components/02-install-a-component/">安装扩展组件</a>
          </li>
        
      
    
  
</ul>
        
      
    
  
</ul>
        
      
    
  
    
  
</ul>
      
    </nav>

  </div>
</aside>
<div class="content-card-wrapper">
  <div class="content-card">
    <div class="content-wrapper"><ul class="content-breadcrumb">
      <li class="icon-slash_fill"><a href="/v4.0" data-url="/v4.0">KubeSphere 企业版</a></li>
      <li class="icon-slash_fill"><a href="/v4.0/02-quickstart/01-install-ks-core" data-url="/v4.0/02-quickstart/01-install-ks-core">安装 KubeSphere Core</a></li></ul><div class="post-wrapper"><div class="post">
  <h1 class="post-title">
    安装 KubeSphere Core</h1>
  <div class="post-info">
    <div class="post-date">
      更新时间：2023-07-24 07:10:31
    </div>
    
    
    
    
    
    
      
    
    
  </div><div class="post-menu">
  <div class="post-menu-title">本页目录</div>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#_仅安装_kubesphere_core">仅安装 KubeSphere Core</a>
      <ul>
        <li><a href="#_前提条件">前提条件</a></li>
        <li><a href="#_安装步骤">安装步骤</a></li>
      </ul>
    </li>
    <li><a href="#_创建_kubernetes_集群并安装_kubesphere_core">创建 Kubernetes 集群并安装 KubeSphere Core</a>
      <ul>
        <li><a href="#_前提条件_2">前提条件</a></li>
        <li><a href="#_安装步骤_2">安装步骤</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div><div class="post-content">
    
      
      
<div class="paragraph">
<p>本节介绍如何以最小化方式安装 KubeSphere 企业版。本节仅安装 KubeSphere 企业版的核心组件 KubeSphere Core。有关 KubeSphere 企业版安装的更多信息，请参阅 <a href="../../03-ks-core-user-guide/">KubeSphere Core 使用指南</a>。</p>
</div>
<div class="paragraph">
<p>取决于您是否有可用的 Kubernetes 集群，您可以选择以下安装方式之一:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>如果您有可用的 Kubernetes 集群，您可以在原有 Kubernetes 集群的基础上<a href="#_仅安装_kubesphere_core">仅安装 KubeSphere Core</a>，从而使用 KubeSphere 企业版继续管理原有 Kubernetes 集群中的资源。</p>
</li>
<li>
<p>如果您没有可用的 Kuberentes 集群，您可以使用本节介绍的方法在单台 Linux 主机上<a href="#_创建_kubernetes_集群并安装_kubesphere_core">创建 Kubernetes 集群并安装 KubeSphere Core</a>。</p>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_仅安装_kubesphere_core">仅安装 KubeSphere Core</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_前提条件">前提条件<a href="" id="fdd11f511bc64ad3bfb1de721611223f" class="bare"></a></h3>
<div class="ulist">
<ul>
<li>
<p>您需要具有可用的 Kubernetes 集群，Kubernetes 版本必须为 v1.21.x、v1.22.x、v1.23.x, v1.24.x, v1.25.x 和 v1.26x （实验性支持）。</p>
</li>
<li>
<p>Kubernetes 集群中必须具有至少 1 个可用 CPU 核心和 2 GB 可用内存。</p>
</li>
<li>
<p>Kubernetes 集群已设置默认存储类。有关更多信息，请参阅 <a href="https://kubernetes.io/zh/docs/tasks/administer-cluster/change-default-storage-class/">Kubernetes 官方文档</a>。</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_安装步骤">安装步骤<a href="" id="8a1f91bfef4f4a33b87b759e3f69a6e6" class="bare"></a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>登录 Kubernetes 集群的任意节点，执行以下命令开始安装 KubeSphere 企业版（取决于您的硬件和网络环境，安装可能需要 10 到 30 分钟时间）：</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">kubectl apply -f https://github.com/kubesphere/ks-installer/releases/download/v3.4.0/kubesphere-installer.yaml</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">kubectl apply -f https://github.com/kubesphere/ks-installer/releases/download/v3.4.0/cluster-configuration.yaml</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>安装过程中，执行以下命令查看安装日志：</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">kubectl logs -n kubesphere-system $(kubectl get pod -n kubesphere-system -l app=ks-install -o jsonpath=&#39;{.items[0].metadata.name}&#39;) -f</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果显示如下信息，则表明安装成功：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">#####################################################
###              Welcome to KubeSphere!           ###
#####################################################

Console: http://192.168.0.2:30880
Account: admin
Password: P@88w0rd

NOTES:
  1. After you log into the console, please check the
     monitoring status of service components in
     the &#34;Cluster Management&#34;. If any service is not
     ready, please wait patiently until all components
     are up and running.
  2. Please change the default password after login.

#####################################################
https://kubesphere.io             20xx-xx-xx xx:xx:xx
#####################################################</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>从成功信息中的 <strong>Console</strong>、<strong>Account</strong> 和 <strong>Password</strong> 参数分别获取 KubeSphere 企业版 Web 控制台的 IP 地址、管理员用户名和管理员密码，并使用网页浏览器登录 KubeSphere 企业版 Web 控制台。</p>
<div class="openblock">
<div class="content">
<table class="tableblock frame-all grid-all stretch admon note">
<colgroup>
<col style="width: 100%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>取决于您的网络环境，您可能需要配置流量转发规则并在防火墙中放行 30880 端口。</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_创建_kubernetes_集群并安装_kubesphere_core">创建 Kubernetes 集群并安装 KubeSphere Core</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_前提条件_2">前提条件<a href="" id="b7622893607d43fc8c31001adcde9e5f" class="bare"></a></h3>
<div class="paragraph">
<p>您需要准备一台 Linux 主机，并确保主机软硬件满足以下条件：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;"/>
<col style="width: 70%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">类别</th>
<th class="tableblock halign-left valign-top">配置要求</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>硬件</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>最低配置：2 个 CPU 核心，4 GB 内存，40 GB 磁盘空间。</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>操作系统</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Ubuntu 16.04、Ubuntu 18.04、Debian 9、Debian 10、CentOS 7、RHEL 7、SLES 15 或 openSUSE Leap 15。</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>网络</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>请确保 /etc/resolv.conf 中的 DNS 地址可用。</p>
</li>
<li>
<p>建议禁用防火墙以避免组件通信受阻。</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>依赖项</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>socat、conntrack、ebtables 和 ipset</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>其他</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>节点上可以使用 sudo、curl 和 openssl 命令。</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_安装步骤_2">安装步骤<a href="" id="f72e2ba26e3c4c14ad5573e1cda5aa33" class="bare"></a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>如果您访问 GitHub/Googleapis 受限，请登录 Linux 主机，执行以下命令设置下载区域：</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">export KKZONE=cn</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>执行以下命令下载安装工具 KubeKey：</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">curl -sfL https://get-kk.kubesphere.io | VERSION=v1.2.1 sh -</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch admon note">
<colgroup>
<col style="width: 100%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>KubeKey 是高效、易用、开源 Kubernetes 和 KubeSphere 企业版安装工具。有关 KubeKey 的更多信息，请访问 <a href="https://github.com/kubesphere/kubekey">KubeKey GitHub 仓库</a>。</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</li>
<li>
<p>执行以下命令为 KubeKey 二进制文件 <strong>kk</strong> 添加执行权限：</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">chmod +x kk</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>执行以下命令开始安装 Kubernetes 和 KubeSphere 企业版（以下以 Kubernetes 1.21.5 和 KubeSphere 企业版 v3.4.0 为例）：</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell"> ./kk create cluster --with-kubernetes v1.21.5 --with-kubesphere v3.4.0</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果显示如下信息，则表明安装成功：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">#####################################################
###              Welcome to KubeSphere!           ###
#####################################################

Console: http://192.168.0.2:30880
Account: admin
Password: P@88w0rd

NOTES:
  1. After you log into the console, please check the
     monitoring status of service components in
     the &#34;Cluster Management&#34;. If any service is not
     ready, please wait patiently until all components
     are up and running.
  2. Please change the default password after login.

#####################################################
https://kubesphere.io             20xx-xx-xx xx:xx:xx
#####################################################</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>从成功信息中的 <strong>Console</strong>、<strong>Account</strong> 和 <strong>Password</strong> 参数分别获取 KubeSphere 企业版 Web 控制台的 IP 地址、管理员用户名和管理员密码，并使用网页浏览器登录 KubeSphere 企业版 Web 控制台。</p>
<div class="openblock">
<div class="content">
<table class="tableblock frame-all grid-all stretch admon note">
<colgroup>
<col style="width: 100%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>取决于您的网络环境，您可能需要配置流量转发规则并在防火墙中放行 30880 端口。</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>

    

  </div>
  <div class="post-footer">
    <div class="post-prev">
    </div>
    <div class="post-next">
    </div>
  </div>
  <div class="post-back-to-top">
    <span class="icon-up_3_fill"></span>
  </div>
</div><div class="post-placeholder"><div class="post-menu">
  <div class="post-menu-title">本页目录</div>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#_仅安装_kubesphere_core">仅安装 KubeSphere Core</a>
      <ul>
        <li><a href="#_前提条件">前提条件</a></li>
        <li><a href="#_安装步骤">安装步骤</a></li>
      </ul>
    </li>
    <li><a href="#_创建_kubernetes_集群并安装_kubesphere_core">创建 Kubernetes 集群并安装 KubeSphere Core</a>
      <ul>
        <li><a href="#_前提条件_2">前提条件</a></li>
        <li><a href="#_安装步骤_2">安装步骤</a></li>
      </ul>
    </li>
  </ul>
</nav>
</div></div>
      </div>
    </div>
  </div>
</div></div>
    </body><script src="/js/bootstrap.min.js"></script>
<script src="/js/autocomplete/jquery.autocomplete.js"></script>
<script src="/js/copy-to-clipboard.js"></script>
<script src="/js/highlight.min.js"></script>
<script src="/js/jquery.tmpl.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/search/jquery.mark.min.js"></script>

<script type="text/javascript" src="/js/common.b7871e779ccf62c598ba545c7b401af6f8114c98b18005c26ea15e419acb7fd77f63cf60c4b435dc98c114bd329923402e2f50744ba7b979d892d933f19c8f4a.js" integrity="sha512-t4ced5zPYsWYulRce0Aa9vgRTJixgAXCbqFeQZrLf9d/Y89gxLQ13JjBFL0ymSNALi9QdEunuXnYktkz8ZyPSg=="></script>

<script type="text/javascript" src="/js/search.d8001c3e1b66b9a0b48e0c23ad0dbfc0906f194f8925ae78a9900b960679cfa7e41cebd9efd654f84535d02cbce7c4971f226e6f07288c26c3c4560c36d7655b.js"></script>
<script>
  $(function() {
    
    hljs.highlightAll();
    
    $.each($('.post-content .imageblock img'), function () {
      $(this).attr('data-mfp-src', $(this).attr('src'));
    });
    $('.post-content').magnificPopup({
      disableOn: function () {
        if ($(window).width() < 600) {
          return false;
        }
        return true;
      },
      delegate: '.imageblock img',
      type: 'image',
      gallery: {
        enabled: true,
      },
    });
  });
</script>
</html>
